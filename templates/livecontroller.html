<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.cnpmjs.org/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='css/materialize.min.css') }}"
          media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
<div class="container">
    <input type="range" min="2" max="178" id="X">
    <label for="X">X</label>
    <br>
    <input type="range" min="2" max="178" id="Y">
    <label for="Y">Y</label>
    <br>
    <input type="checkbox" id="stat">
    <label for="stat">stat</label>
    <br>
    <a class="waves-effect waves-light btn" id="submit">refresh</a>
</div>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/materialize.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/main.js') }}"></script>
<script type="text/javascript">

    $('#submit').click(function () {

        var formData = new FormData();
        formData.append('X', $('#X').val());
        formData.append('Y', $('#Y').val());
        formData.append('stat', $('#stat').val());
        formData.append('source', "U");
        $.ajax({
            url: '/api/live',
            type: 'POST',
            data: formData,
            contentType: false,
            processData: false,
            success: function (result) {
                if (result) {
                    var data = result["current"];
                    $('#X').val(data["X"]);
                    $('#Y').val(data["Y"]);
                    $('#stat').val(data["stat"]);
                    $('#source').val(data["source"]);
                }
                else {
                    alert("获取设备信息失败")
                }

            }

        })
    });
</script>

</body>
</html>